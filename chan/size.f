template<typename T>
size_t chan<T>::size() const {
    return d_impl->size();
}
